! µWave Wizard netlist 
! OUTPUT 
   .save outputfile "test_3.out"
   .export subcircuit test_3  "test_3.apl"  symmetrical

   .plot "s11(h 1 0)(h 1 0)"
   .plot "s21(h 1 0)(h 1 0)"
   .plot "s22(h 1 0)(h 1 0)"

   .print standard messages


! DIMENSION
   .default freq_unit=GHz
   .default geom_unit=mm
   .default angle_unit=deg
   .default time_unit=s
   .default efield_unit=V/m
   .default hfield_unit=A/m
   .default power_density_unit=W/m^2
   .default resistance_unit=Ohm
   .default capacitance_unit=pF
   .default inductance_unit=nH
   .default conductivity_unit=10^6 S/m

! SYMMETRIES
   .default symmetry_xzpl=e
   .default symmetry_yzpl=m
   .default symmetry_xypl=n
   .default symmetry_plane=h
   .default symmetry_radial=n

! MATERIAL
   .default epsr=1
   .default muer=1
   .default metal=Ideal
   .default sigma=INF
   .default z_wall=(0,0)

! FEM SETTINGS
   .default discretization=0.5
   .default refinement=Local
   .default discretization_3D=1
   .default refinement_3D=Local

! DEFAULT CUTOFF SETTINGS
   .default cutoff_evaluation=150
   .default cutoff_connection=30
   .default cutoff_waveguide=45
   .default cutoff_connection_all=0
   .default cutoff_waveguide_all=0
   .default adapt_connection=y
   .set output=only_accessible

! FREQUENCY_SWEEP
   .calculation_type=Normal max_steps=100 max_error=1E-6 interpolation_path=1 use_modes=Fundamental subcircuit_level=n plot_intermediate_results=None reduced_set=n plot_interval=120

! FREQUENCIES
   .ac lin 501 12.4 18

! VARIABLES
   .param var a=15.799
   .param var b=7.899
   .param opt test_3_a2_1=8.99919278084541952 8.9375601 9.8783559 !mww$ comment="test_3_a2_1 is the tunned variable for iris 1."
   .param opt test_3_a2_2=6.51571539230701952 6.4155476 7.0908684 !mww$ comment="test_3_a2_2 is the tunned variable for iris 2."
   .param opt test_3_a2_3=5.79617168452975104 5.56217685 6.14766915 !mww$ comment="test_3_a2_3 is the tunned variable for iris 3."
   .param opt test_3_a2_4=5.61288113841260544 5.3832415 5.9498985 !mww$ comment="test_3_a2_4 is the tunned variable for iris 4."
   .param opt test_3_a2_5=5.57373144416107008 5.34405685 5.90658915 !mww$ comment="test_3_a2_5 is the tunned variable for iris 5."
   .param opt test_3_l_1=9.09333065287480064 8.31952525 9.19526475 !mww$ comment="test_3_l_1 is the length of resonator 1."
   .param opt test_3_l_2=10.5707255314980832 9.83696975 10.87244025 !mww$ comment="test_3_l_2 is the length of resonator 2."
   .param opt test_3_l_3=10.9270446907094704 10.2475873 11.3262807 !mww$ comment="test_3_l_3 is the length of resonator 3."
   .param opt test_3_l_4=11.0057166977103456 10.3239008 11.4106272 !mww$ comment="test_3_l_4 is the length of resonator 4."

! OPTIMIZATIONS
   .maxtime=120
   .maxiteration=500
   .minerror=0.1
   .optimize name="s21(h 1 0)(h 1 0)" rel="<" value=-40 in=dB start=13.365 stop=13.5 weight=1
   .optimize name="s11(h 1 0)(h 1 0)" rel="<" value=-28 in=dB start=14.5 stop=16 weight=1
   .optimize name="s21(h 1 0)(h 1 0)" rel="<" value=-40 in=dB start=16.5 stop=16.665 weight=1

! YIELD ANALYSATION
   .yield_iteration=100
   .yield_precision=0.01
   .yield_limit=5.09523476
   .yield_distribution=gauss
   .yield_parameter par=a prec=0.01
   .yield_parameter par=b prec=0.01
   .yield_parameter par=test_3_a2_1 prec=0.01
   .yield_parameter par=test_3_a2_2 prec=0.01
   .yield_parameter par=test_3_a2_3 prec=0.01
   .yield_parameter par=test_3_a2_4 prec=0.01
   .yield_parameter par=test_3_a2_5 prec=0.01
   .yield_parameter par=test_3_l_1 prec=0.01
   .yield_parameter par=test_3_l_2 prec=0.01
   .yield_parameter par=test_3_l_3 prec=0.01
   .yield_parameter par=test_3_l_4 prec=0.01
   .yield name="s21(h 1 0)(h 1 0)" rel="<" value=-40 in=dB start=13.365 stop=13.5 weight=1
   .yield name="s11(h 1 0)(h 1 0)" rel="<" value=-28 in=dB start=14.5 stop=16 weight=1
   .yield name="s21(h 1 0)(h 1 0)" rel="<" value=-40 in=dB start=16.5 stop=16.665 weight=1

! RADIATION
   .radius_farfield=0
   .phasecenter=0.0
   .turn_coord=n
   .default copolarisation=vert
   .default crosspolarisation=horiz
   .field_freq_mask=center
   .phi_min_2d=0
   .phi_max_2d=90
   .phi_cuts_2d=3
   .theta_min_2d=0
   .theta_max_2d=180
   .theta_cuts_2d=181
   .theta_max_3d=180
   .phi_cuts_3d=45
   .theta_cuts_3d=91

! RUN MODUS
   .run=Extrem
   .stop=final_analysis
   .analysis=normal
   .evaluate error function

! CIRCUITS

   .SUBCKT test_3_Half  #1
     port 1 nr=1 excitation="" freq_mask="" comment="" !mww$ xPos=67 yPos=72 Angle=0
     emptyw 1 2 name=l_1 neglen=n l=0.0 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=192 yPos=72 Angle=0
     ir_r1r 2 3 name=tune_iris a1=a b1=b a2=test_3_a2_1 b2=b zl=1 cuti=70.0 n_iso=20 comment="" 3dfem=n solver=z-direct mesh_morphing=n morph_data_use_disk=none base_function_order=2 second_order_mesh=n nvrmin=24 refine3d=local max_iter=1000 errtol=0.0001 discr3d=1 save_3dmesh=n read_3dmesh=n mesh_file_name="tune_iris@test_3_half.mesh" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=317 yPos=72 Angle=0
     emptyw 3 4 name=l_2 neglen=n l=test_3_l_1 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=442 yPos=72 Angle=0
     ir_r1r 4 5 name=iris_2 a1=a b1=b a2=test_3_a2_2 b2=b zl=1 cuti=70.0 n_iso=20 comment="" 3dfem=n solver=z-direct mesh_morphing=n morph_data_use_disk=none base_function_order=2 second_order_mesh=n nvrmin=24 refine3d=local max_iter=1000 errtol=0.0001 discr3d=1 save_3dmesh=n read_3dmesh=n mesh_file_name="iris_2@test_3_half.mesh" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=567 yPos=72 Angle=0
     emptyw 5 6 name=l_3 neglen=n l=test_3_l_2 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=692 yPos=72 Angle=0
     ir_r1r 6 7 name=iris_3 a1=a b1=b a2=test_3_a2_3 b2=b zl=1 cuti=70.0 n_iso=20 comment="" 3dfem=n solver=z-direct mesh_morphing=n morph_data_use_disk=none base_function_order=2 second_order_mesh=n nvrmin=24 refine3d=local max_iter=1000 errtol=0.0001 discr3d=1 save_3dmesh=n read_3dmesh=n mesh_file_name="iris_3@test_3_half.mesh" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=817 yPos=72 Angle=0
     emptyw 7 8 name=l_4 neglen=n l=test_3_l_3 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=942 yPos=72 Angle=0
     ir_r1r 8 9 name=iris_4 a1=a b1=b a2=test_3_a2_4 b2=b zl=1 cuti=70.0 n_iso=20 comment="" 3dfem=n solver=z-direct mesh_morphing=n morph_data_use_disk=none base_function_order=2 second_order_mesh=n nvrmin=24 refine3d=local max_iter=1000 errtol=0.0001 discr3d=1 save_3dmesh=n read_3dmesh=n mesh_file_name="iris_4@test_3_half.mesh" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=1067 yPos=72 Angle=0
     emptyw 9 10 name=l_5 neglen=n l=0.0 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=1192 yPos=72 Angle=0
     port 10 nr=2 excitation="" freq_mask="" comment="" !mww$ xPos=1317 yPos=72 Angle=180
   .ENDSUBCKT test_3_Half

   .CKT test_3  #0
     port 1 nr=1 excitation="" freq_mask="" comment="" !mww$ xPos=59 yPos=65 Angle=0
     emptyw 1 2 name=l_1 neglen=n l=0.0 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=184 yPos=65 Angle=0
     subckt_2 2 3 name=test_3_half comment="" !mww$ xPos=309 yPos=65 Angle=0
     emptyw 3 4 name=l_2 neglen=n l=test_3_l_4 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=434 yPos=65 Angle=0
     ir_r1r 4 5 name=tune_iris a1=a b1=b a2=test_3_a2_5 b2=b zl=1 cuti=70.0 n_iso=20 comment="" 3dfem=n solver=z-direct mesh_morphing=n morph_data_use_disk=none base_function_order=2 second_order_mesh=n nvrmin=24 refine3d=local max_iter=1000 errtol=0.0001 discr3d=1 save_3dmesh=n read_3dmesh=n mesh_file_name="tune_iris@test_3.mesh" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=559 yPos=65 Angle=0
     emptyw 5 6 name=l_3 neglen=n l=test_3_l_4 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=684 yPos=65 Angle=0
     subckt_2 7 6 name=test_3_half comment="" !mww$ xPos=809 yPos=65 Angle=180
     emptyw 7 8 name=l_4 neglen=n l=0.0 n_iso=20 comment="" field_comp=n ftype={h} n_vec=0 omega_t=0 surface_plot=n scalar_plot=n export_fem_solutions=n log_scale=n !mww$ xPos=934 yPos=65 Angle=0
     port 8 nr=2 excitation="" freq_mask="" comment="" !mww$ xPos=1059 yPos=65 Angle=180
   .ENDCKT test_3
